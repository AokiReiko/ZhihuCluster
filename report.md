# 知乎数据分析

[TOC]

## 进度安排

- 7.17-7.17：数据下载与观察
- 7.18-7.19：数据清洗，参考kdd网站提醒；
    - 确定用户画像的目标或其他可展示的结果，亦即大实验目标
    - 确定代码框架。
- 7.20：开始工程代码编写。

## 数据清洗

###数据清洗格式

| user_info.txt     | 用户ID     | 回答被点赞数 | 回答被评论数           | 所在市       | 关注话题数 | 关注话题列表     |              |                |              |
| ----------------- | ---------- | ------------ | ---------------------- | ------------ | ---------- | ---------------- | ------------ | -------------- | ------------ |
| question_info.txt | 问题 id    | 问题创建时间 | 答案数                 | 关注数       | 邀请数     | 评论数           | 标题         | 绑定话题列表   |              |
| question_id.dict  | 短ID       | 长ID         |                        |              |            |                  |              |                |              |
| answer_id.dict    | 短ID       | 长ID         |                        |              |            |                  |              |                |              |
| topic_infos.txt   | 话题 ID    | 话题 Name    | 话题的描述             |              |            |                  |              |                |              |
| candidate.txt     | Q/A(全为A) | 文章ID       |                        |              |            |                  |              |                |              |
| answer_infos.txt  | 答案 ID    | 对应问题ID   | 是否匿名回答           | 作者         | 创建时间   | 答案被赞同的次数 | 答案的评论数 | 答案的文本信息 | 绑定话题列表 |
| training_set.txt  | 用户 ID    | 文章 ID      | 用户与其他文章的交互数 | 文章交互信息 |            |                  |              |                |              |

### TrainingSetPrep

清洗测试集数据training_set.txt，得到如下数据格式：
```
    用户ID    文章ID    交互数    交互信息
```

- 过滤了交互数为0的数据
- 用户数可能有重合，但pair(用户ID,文章ID)是唯一的。
- 交互信息只留下了所有的A标签，这是由于Q与A的比例大致为1:8，而Q中大量数据在A中出现，故不作考虑。
- 交互信息的时间戳被去掉，不加考虑。
- 最终交互信息形如：docID1,docID2,docID3,...
- 原数据规模73.1G，清洗后26.1G